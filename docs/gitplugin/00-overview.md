# Git å¹³å°æ’ä»¶æ‰©å±• - æ€»ä½“æ¦‚è¿°

## ğŸ“‹ é¡¹ç›®ç›®æ ‡

æ‰©å±• Git Helper æ’ä»¶ï¼Œæ”¯æŒ GitHub å’Œ GitLab çš„é…ç½®ç®¡ç†ã€å¹³å°åˆ‡æ¢ï¼Œå¹¶ä¸ç°æœ‰ PR ç®¡ç†æ¨¡å—é›†æˆã€‚

### æ ¸å¿ƒåŠŸèƒ½

1. **GitHub é…ç½®ç®¡ç†** - æ”¯æŒå¤šä¸ª GitHub è´¦å·/å®ä¾‹çš„é…ç½®
2. **GitLab é…ç½®ç®¡ç†** - æ”¯æŒå…¬ç½‘å’Œç§æœ‰éƒ¨ç½²çš„ GitLab é…ç½®
3. **å¹³å°åˆ‡æ¢** - åœ¨ GitHub å’Œ GitLab ä¹‹é—´æ— ç¼åˆ‡æ¢
4. **è¿æ¥æµ‹è¯•** - éªŒè¯é…ç½®çš„æœ‰æ•ˆæ€§
5. **PR æ¨¡å—é›†æˆ** - ä¸ç°æœ‰ Pull Request ç®¡ç†æ¨¡å—é›†æˆ

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### é…ç½®å­˜å‚¨ç»“æ„

```
.auto-coder/
â””â”€â”€ plugins/
    â””â”€â”€ autocoder.plugins.GitHelperPlugin/
        â””â”€â”€ config.json
```

**é…ç½®æ–‡ä»¶æ ¼å¼ï¼š**
```json
{
  "current_platform": "gitlab",
  "current_config": {
    "github": "personal-github",
    "gitlab": "company-gitlab"
  },
  "platforms": {
    "github": {
      "personal-github": {
        "name": "ä¸ªäºº GitHub",
        "platform": "github",
        "base_url": "https://api.github.com",
        "token": "<encrypted>",
        "verify_ssl": true,
        "timeout": 30,
        "created_at": "2025-01-13T10:00:00",
        "last_tested": "2025-01-13T10:05:00"
      }
    },
    "gitlab": {
      "company-gitlab": {
        "name": "å…¬å¸ GitLab",
        "platform": "gitlab",
        "base_url": "https://gitlab.example.com",
        "token": "<encrypted>",
        "verify_ssl": false,
        "timeout": 30,
        "created_at": "2025-01-13T11:00:00"
      }
    }
  }
}
```

### æ ¸å¿ƒæ¨¡å—

1. **GitPlatformConfig** (`autocoder/common/git_platform_config.py`)
   - é…ç½®æ•°æ®ç±»å®šä¹‰
   - é…ç½®ç®¡ç†å™¨å®ç°
   - Token åŠ å¯†/è§£å¯†
   - è¿æ¥æµ‹è¯•é€»è¾‘

2. **GitHelperPlugin** (`autocoder/plugins/git_helper_plugin.py`)
   - å‘½ä»¤å¤„ç†è·¯ç”±
   - å¼•å¯¼å¼é…ç½® UI
   - å¹³å°åˆ‡æ¢æ§åˆ¶
   - PR æ¨¡å—é›†æˆ

---

## ğŸ“‹ å®æ–½é˜¶æ®µè§„åˆ’

### Phase 1: é…ç½®ç®¡ç†æ¡†æ¶ (æ–‡æ¡£: 01-phase1-config-framework.md)

**ç›®æ ‡ï¼š** åˆ›å»ºæ ¸å¿ƒé…ç½®ç®¡ç†æ¨¡å—

- åˆ›å»º `git_platform_config.py` æ¨¡å—
- å®ç° `GitPlatformConfig` æ•°æ®ç±»
- å®ç° `GitPlatformManager` é…ç½®ç®¡ç†å™¨
- å®ç°é…ç½®çš„å¢åˆ æ”¹æŸ¥åŸºç¡€åŠŸèƒ½

**é¢„ä¼°æ—¶é—´ï¼š** 2-3 å°æ—¶

---

### Phase 2: GitHub é…ç½®ç®¡ç† (æ–‡æ¡£: 02-phase2-github-config.md)

**ç›®æ ‡ï¼š** å®ç° GitHub é…ç½®çš„å®Œæ•´æµç¨‹

- æ‰©å±• GitHelperPluginï¼Œæ·»åŠ  `/git /github` å‘½ä»¤ç»„
- å®ç° `/git /github /setup` å¼•å¯¼å¼é…ç½®
- å®ç° `/git /github /list` åˆ—è¡¨æ˜¾ç¤º
- å®ç° `/git /github /modify` ä¿®æ”¹åŠŸèƒ½
- å®ç° `/git /github /delete` åˆ é™¤åŠŸèƒ½

**é¢„ä¼°æ—¶é—´ï¼š** 2-3 å°æ—¶

---

### Phase 3: GitLab é…ç½®ç®¡ç† (æ–‡æ¡£: 03-phase3-gitlab-config.md)

**ç›®æ ‡ï¼š** å®ç° GitLab é…ç½®çš„å®Œæ•´æµç¨‹

- å®ç° `/git /gitlab /setup` å¼•å¯¼å¼é…ç½®
- å®ç° `/git /gitlab /list` åˆ—è¡¨æ˜¾ç¤º
- å®ç° `/git /gitlab /modify` ä¿®æ”¹åŠŸèƒ½
- å®ç° `/git /gitlab /delete` åˆ é™¤åŠŸèƒ½
- æ”¯æŒç§æœ‰ GitLab å®ä¾‹é…ç½®

**é¢„ä¼°æ—¶é—´ï¼š** 2-3 å°æ—¶

---

### Phase 4: å¹³å°åˆ‡æ¢åŠŸèƒ½ (æ–‡æ¡£: 04-phase4-platform-switch.md)

**ç›®æ ‡ï¼š** å®ç° GitHub/GitLab å¹³å°åˆ‡æ¢

- å®ç° `/git /platform` çŠ¶æ€æ˜¾ç¤º
- å®ç° `/git /platform /switch` åˆ‡æ¢å‘½ä»¤
- å®ç° `/git /platform /list` æ¦‚è§ˆæ˜¾ç¤º
- å®ç°é»˜è®¤é…ç½®ç®¡ç†

**é¢„ä¼°æ—¶é—´ï¼š** 1-2 å°æ—¶

---

### Phase 5: è¿æ¥æµ‹è¯•åŠŸèƒ½ (æ–‡æ¡£: 05-phase5-connection-test.md)

**ç›®æ ‡ï¼š** å®ç°é…ç½®è¿æ¥æµ‹è¯•

- GitHub API è¿æ¥æµ‹è¯• (`GET /user`)
- GitLab API è¿æ¥æµ‹è¯• (`GET /api/v4/user`)
- å®ç° `/git /github /test` å‘½ä»¤
- å®ç° `/git /gitlab /test` å‘½ä»¤
- æ˜¾ç¤ºæµ‹è¯•ç»“æœï¼ˆç”¨æˆ·åã€ç‰ˆæœ¬ç­‰ï¼‰

**é¢„ä¼°æ—¶é—´ï¼š** 1-2 å°æ—¶

---

### Phase 6: PR æ¨¡å—é›†æˆ (æ–‡æ¡£: 06-phase6-pr-integration.md)

**ç›®æ ‡ï¼š** ä¸ç°æœ‰ PR ç®¡ç†æ¨¡å—é›†æˆ

- åœ¨æ’ä»¶åˆå§‹åŒ–æ—¶åŠ è½½å½“å‰å¹³å°é…ç½®
- è°ƒç”¨ `set_global_config` è®¾ç½® PR é…ç½®
- åœ¨å¹³å°åˆ‡æ¢æ—¶æ›´æ–° PR é…ç½®
- ç¡®ä¿ PR æ“ä½œä½¿ç”¨å½“å‰å¹³å°é…ç½®

**é¢„ä¼°æ—¶é—´ï¼š** 1-2 å°æ—¶

---

### Phase 7: å‘½ä»¤è¡¥å…¨å¢å¼º (æ–‡æ¡£: 07-phase7-completion.md)

**ç›®æ ‡ï¼š** å®ç°æ™ºèƒ½å‘½ä»¤è¡¥å…¨

- é™æ€è¡¥å…¨ï¼šå‘½ä»¤ç»“æ„è¡¥å…¨
- åŠ¨æ€è¡¥å…¨ï¼šé…ç½®åç§°è¡¥å…¨
- å¹³å°ç±»å‹è¡¥å…¨
- æå‡ç”¨æˆ·ä½“éªŒ

**é¢„ä¼°æ—¶é—´ï¼š** 1-2 å°æ—¶

---

### Phase 8: æµ‹è¯•éªŒè¯ (æ–‡æ¡£: 08-testing-guide.md)

**ç›®æ ‡ï¼š** å…¨é¢æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

- GitHub é…ç½®æµ‹è¯•
- GitLab é…ç½®æµ‹è¯•
- å¹³å°åˆ‡æ¢æµ‹è¯•
- é”™è¯¯å¤„ç†æµ‹è¯•
- å¤šé…ç½®ç®¡ç†æµ‹è¯•

**é¢„ä¼°æ—¶é—´ï¼š** 2-3 å°æ—¶

---

### Phase 9: æ–‡æ¡£ç¼–å†™ (æ–‡æ¡£: 09-user-guide.md)

**ç›®æ ‡ï¼š** ç¼–å†™ç”¨æˆ·ä½¿ç”¨æ–‡æ¡£

- å¦‚ä½•è·å– GitHub Token
- å¦‚ä½•è·å– GitLab Token
- é…ç½®ç®¡ç†æŒ‡å—
- å¸¸è§é—®é¢˜è§£ç­”

**é¢„ä¼°æ—¶é—´ï¼š** 1-2 å°æ—¶

---

## ğŸ”„ å®æ–½æµç¨‹

### æ¯ä¸ªé˜¶æ®µçš„æ ‡å‡†æµç¨‹

1. **é˜…è¯»é˜¶æ®µæ–‡æ¡£** ğŸ“–
   - äº†è§£é˜¶æ®µç›®æ ‡
   - æ£€æŸ¥å‰ç½®æ¡ä»¶
   - ç†Ÿæ‚‰å®æ–½æ­¥éª¤

2. **ä»£ç å®ç°** ğŸ’»
   - æŒ‰ç…§æ–‡æ¡£ä¸­çš„ä»£ç ç¤ºä¾‹å®ç°
   - éµå¾ªç°æœ‰ä»£ç é£æ ¼
   - æ·»åŠ å¿…è¦çš„æ³¨é‡Š

3. **åŠŸèƒ½æµ‹è¯•** ğŸ§ª
   - è¿è¡Œæµ‹è¯•ç”¨ä¾‹
   - éªŒè¯åŠŸèƒ½æ­£å¸¸
   - æ£€æŸ¥é”™è¯¯å¤„ç†

4. **æäº¤ä»£ç ** ğŸ“
   - æäº¤åˆ° git
   - æ›´æ–°äºŒæ¬¡å¼€å‘è®°å½•

5. **è¿›å…¥ä¸‹ä¸€é˜¶æ®µ** â¡ï¸
   - é˜…è¯»ä¸‹ä¸€é˜¶æ®µæ–‡æ¡£
   - é‡å¤ä¸Šè¿°æµç¨‹

---

## ğŸ“Š æ€»ä½“è¿›åº¦è·Ÿè¸ª

| é˜¶æ®µ | æ–‡æ¡£ | çŠ¶æ€ | é¢„ä¼°æ—¶é—´ |
|------|------|------|----------|
| Phase 1 | 01-phase1-config-framework.md | â³ å¾…å¼€å§‹ | 2-3 å°æ—¶ |
| Phase 2 | 02-phase2-github-config.md | â³ å¾…å¼€å§‹ | 2-3 å°æ—¶ |
| Phase 3 | 03-phase3-gitlab-config.md | â³ å¾…å¼€å§‹ | 2-3 å°æ—¶ |
| Phase 4 | 04-phase4-platform-switch.md | â³ å¾…å¼€å§‹ | 1-2 å°æ—¶ |
| Phase 5 | 05-phase5-connection-test.md | â³ å¾…å¼€å§‹ | 1-2 å°æ—¶ |
| Phase 6 | 06-phase6-pr-integration.md | â³ å¾…å¼€å§‹ | 1-2 å°æ—¶ |
| Phase 7 | 07-phase7-completion.md | â³ å¾…å¼€å§‹ | 1-2 å°æ—¶ |
| Phase 8 | 08-testing-guide.md | â³ å¾…å¼€å§‹ | 2-3 å°æ—¶ |
| Phase 9 | 09-user-guide.md | â³ å¾…å¼€å§‹ | 1-2 å°æ—¶ |

**æ€»è®¡é¢„ä¼°æ—¶é—´ï¼š** çº¦ 13-21 å°æ—¶

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… å¯ä»¥é…ç½® GitHub
- âœ… å¯ä»¥é…ç½® GitLabï¼ˆå…¬ç½‘å’Œç§æœ‰ï¼‰
- âœ… å¯ä»¥åœ¨å¹³å°é—´åˆ‡æ¢
- âœ… å¯ä»¥æµ‹è¯•è¿æ¥
- âœ… PR æ“ä½œä½¿ç”¨å½“å‰å¹³å°é…ç½®

### ç”¨æˆ·ä½“éªŒ
- âœ… å¼•å¯¼å¼é…ç½®å‹å¥½æ˜“ç”¨
- âœ… å‘½ä»¤è¡¥å…¨æ™ºèƒ½å‡†ç¡®
- âœ… é”™è¯¯æç¤ºæ¸…æ™°æ˜ç¡®
- âœ… æ–‡æ¡£å®Œæ•´è¯¦ç»†

### ä»£ç è´¨é‡
- âœ… ä»£ç ç»“æ„æ¸…æ™°
- âœ… æ³¨é‡Šå®Œæ•´
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… æµ‹è¯•è¦†ç›–å……åˆ†

---

## ğŸ“ æµ‹è¯•å‡†å¤‡

### GitHub æµ‹è¯•æ‰€éœ€
- GitHub è´¦å·
- Personal Access Token (æƒé™: `repo`, `read:user`)
- è·å–æ–¹å¼ï¼šGitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens

### GitLab æµ‹è¯•æ‰€éœ€
- GitLab è´¦å· (gitlab.com)
- Personal Access Token (æƒé™: `api`)
- è·å–æ–¹å¼ï¼šGitLab â†’ Settings â†’ Access Tokens

**è¯·æå‰å‡†å¤‡å¥½æµ‹è¯•è´¦å·å’Œ Tokenï¼**

---

## ğŸ“š ç›¸å…³èµ„æº

### é¡¹ç›®å†…å‚è€ƒä»£ç 
- `autocoder/common/llms/guided_setup.py` - å¼•å¯¼å¼é…ç½®å‚è€ƒ
- `autocoder/plugins/code_checker_plugin.py` - æ’ä»¶å®ç°å‚è€ƒ
- `autocoder/common/pull_requests/` - PR æ¨¡å—å‚è€ƒ

### API æ–‡æ¡£
- [GitHub API](https://docs.github.com/en/rest)
- [GitLab API](https://docs.gitlab.com/ee/api/)

---

## ğŸš€ å¼€å§‹å®æ–½

å‡†å¤‡å¥½åï¼Œè¯·ä» **Phase 1** å¼€å§‹ï¼š

ğŸ‘‰ **ä¸‹ä¸€æ­¥ï¼š** é˜…è¯» `01-phase1-config-framework.md`
