# ä»£ç æ£€æŸ¥åŠŸèƒ½ä½¿ç”¨æŒ‡å—

> åŸºäºå¤§æ¨¡å‹çš„æ™ºèƒ½ä»£ç è§„èŒƒæ£€æŸ¥å·¥å…·

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ä»£ç æ£€æŸ¥åŠŸèƒ½æ˜¯ Auto-Coder çš„ä¸€ä¸ªå¼ºå¤§æ’ä»¶ï¼Œå®ƒä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¯¹ä»£ç è¿›è¡Œæ™ºèƒ½æ£€æŸ¥ï¼Œç¡®ä¿ä»£ç ç¬¦åˆé¢„å®šä¹‰çš„å¼€å‘è§„èŒƒã€‚

### ä¸»è¦ç‰¹æ€§

- âœ… **æ™ºèƒ½æ£€æŸ¥**ï¼šåŸºäº LLM çš„è¯­ä¹‰ç†è§£ï¼Œä¸ä»…æ£€æŸ¥è¯­æ³•ï¼Œè¿˜èƒ½ç†è§£ä»£ç é€»è¾‘
- âœ… **è§„åˆ™å®šåˆ¶**ï¼šæ”¯æŒå‰åç«¯ä¸åŒè§„åˆ™é›†ï¼Œå¯è‡ªå®šä¹‰è§„åˆ™
- âœ… **å‡†ç¡®å®šä½**ï¼šç²¾ç¡®è¿”å›é—®é¢˜ä»£ç çš„è¡Œå·èŒƒå›´
- âœ… **å¤§æ–‡ä»¶æ”¯æŒ**ï¼šè‡ªåŠ¨åˆ†å—å¤„ç†å¤§æ–‡ä»¶ï¼Œé¿å… token é™åˆ¶
- âœ… **å¹¶å‘å¤„ç†**ï¼šæ”¯æŒå¤šæ–‡ä»¶å¹¶è¡Œæ£€æŸ¥ï¼Œæé«˜æ•ˆç‡
- âœ… **è¿›åº¦è·Ÿè¸ª**ï¼šå®æ—¶æ˜¾ç¤ºæ£€æŸ¥è¿›åº¦ï¼Œæ”¯æŒä¸­æ–­æ¢å¤
- âœ… **è¯¦ç»†æŠ¥å‘Š**ï¼šç”Ÿæˆ JSON å’Œ Markdown æ ¼å¼çš„æ£€æŸ¥æŠ¥å‘Š
- âœ… **ä¿®å¤å»ºè®®**ï¼šé’ˆå¯¹æ¯ä¸ªé—®é¢˜æä¾›å…·ä½“çš„ä¿®å¤å»ºè®®

### æ”¯æŒçš„æ£€æŸ¥ç±»å‹

| æ£€æŸ¥ç±»å‹ | è§„åˆ™æ–‡ä»¶ | é€‚ç”¨æ–‡ä»¶ |
|---------|---------|---------|
| åç«¯ä»£ç  | `rules/backend_rules.md` | `*.py` |
| å‰ç«¯ä»£ç  | `rules/frontend_rules.md` | `*.js`, `*.jsx`, `*.ts`, `*.tsx`, `*.vue` |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

1. å·²å®‰è£…å¹¶é…ç½® Auto-Coder
2. å·²é…ç½® LLM APIï¼ˆOpenAIã€Anthropic ç­‰ï¼‰
3. å·²å‡†å¤‡è§„åˆ™æ–‡ä»¶ï¼ˆ`rules/backend_rules.md` æˆ– `rules/frontend_rules.md`ï¼‰

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨ chat_auto_coder**
   ```bash
   python -m autocoder.chat_auto_coder
   ```

2. **æ£€æŸ¥å•ä¸ªæ–‡ä»¶**
   ```bash
   /check /file src/main.py
   ```

3. **æ£€æŸ¥æ•´ä¸ªé¡¹ç›®**
   ```bash
   /check /folder
   ```

4. **æŸ¥çœ‹æ£€æŸ¥æŠ¥å‘Š**
   - æŠ¥å‘Šä¿å­˜åœ¨ `codecheck/{project}_{timestamp}/` ç›®å½•
   - åŒ…å« JSON å’Œ Markdown ä¸¤ç§æ ¼å¼

---

## ğŸ“– å‘½ä»¤å‚è€ƒ

### 1. `/check /file` - å•æ–‡ä»¶æ£€æŸ¥

æ£€æŸ¥æŒ‡å®šçš„å•ä¸ªæ–‡ä»¶ã€‚

**è¯­æ³•**ï¼š
```bash
/check /file <filename>
```

**ç¤ºä¾‹**ï¼š
```bash
# æ£€æŸ¥ Python æ–‡ä»¶
/check /file autocoder/auto_coder.py

# æ£€æŸ¥ JavaScript æ–‡ä»¶
/check /file src/App.jsx

# ä½¿ç”¨ç›¸å¯¹è·¯å¾„
/check /file ./utils/helper.py
```

**æ‰§è¡Œæµç¨‹**ï¼š
1. åŠ è½½é€‚ç”¨çš„è§„åˆ™ï¼ˆæ ¹æ®æ–‡ä»¶æ‰©å±•åè‡ªåŠ¨é€‰æ‹©ï¼‰
2. è¯»å–æ–‡ä»¶å†…å®¹å¹¶æ·»åŠ è¡Œå·
3. å¦‚æœæ–‡ä»¶è¿‡å¤§ï¼Œè‡ªåŠ¨åˆ†å—å¤„ç†
4. è°ƒç”¨ LLM è¿›è¡Œæ£€æŸ¥
5. ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Š

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ­£åœ¨æ£€æŸ¥æ–‡ä»¶: autocoder/auto_coder.py

âœ… æ£€æŸ¥å®Œæˆï¼
   å‘ç°é—®é¢˜: 5
   é”™è¯¯: 2
   è­¦å‘Š: 3
   æç¤º: 0

ğŸ“„ æŠ¥å‘Šå·²ä¿å­˜åˆ°: codecheck/cuscli_20251010_143022/
   - files/autocoder_auto_coder_py.json
   - files/autocoder_auto_coder_py.md
```

---

### 2. `/check /folder` - ç›®å½•æ£€æŸ¥

æ‰¹é‡æ£€æŸ¥ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚

**è¯­æ³•**ï¼š
```bash
/check /folder [/path <path>] [/ext <extensions>] [/ignore <patterns>] [/workers <count>]
```

**å‚æ•°è¯´æ˜**ï¼š

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `/path` | æ£€æŸ¥è·¯å¾„ | å½“å‰ç›®å½• | `/path src` |
| `/ext` | æ–‡ä»¶æ‰©å±•åï¼ˆé€—å·åˆ†éš”ï¼‰ | æ‰€æœ‰æ”¯æŒçš„ç±»å‹ | `/ext .py,.js` |
| `/ignore` | å¿½ç•¥çš„ç›®å½•/æ–‡ä»¶ï¼ˆé€—å·åˆ†éš”ï¼‰ | æ—  | `/ignore tests,__pycache__` |
| `/workers` | å¹¶å‘æ•° | 5 | `/workers 10` |

**ç¤ºä¾‹**ï¼š

```bash
# æ£€æŸ¥å½“å‰ç›®å½•
/check /folder

# æ£€æŸ¥æŒ‡å®šç›®å½•
/check /folder /path src

# åªæ£€æŸ¥ Python æ–‡ä»¶
/check /folder /ext .py

# æ£€æŸ¥ Python å’Œ JavaScript æ–‡ä»¶
/check /folder /ext .py,.js,.jsx

# å¿½ç•¥æµ‹è¯•æ–‡ä»¶å’Œç¼“å­˜ç›®å½•
/check /folder /ignore tests,__pycache__,*.pyc

# ä½¿ç”¨ 10 ä¸ªå¹¶å‘
/check /folder /workers 10

# ç»„åˆä½¿ç”¨
/check /folder /path src /ext .py /ignore tests /workers 5
```

**æ‰§è¡Œæµç¨‹**ï¼š
1. æ‰«ææŒ‡å®šç›®å½•ï¼Œæ ¹æ®å‚æ•°è¿‡æ»¤æ–‡ä»¶
2. ç”Ÿæˆå”¯ä¸€çš„ check_idï¼ˆæ ¼å¼ï¼š`{project}_{timestamp}`ï¼‰
3. ä½¿ç”¨å¹¶å‘æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶
4. å®æ—¶æ˜¾ç¤ºè¿›åº¦ï¼ˆæ–‡ä»¶åã€ç™¾åˆ†æ¯”ã€å‰©ä½™æ—¶é—´ï¼‰
5. ç”Ÿæˆæ±‡æ€»æŠ¥å‘Š

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ‰«æç›®å½•: src
æ‰¾åˆ° 156 ä¸ªæ–‡ä»¶ï¼ˆPython: 156ï¼‰

æ£€æŸ¥ ID: cuscli_20251010_143022

æ­£åœ¨æ£€æŸ¥æ–‡ä»¶... (å¹¶å‘: 5)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100% 0:00:00
æ£€æŸ¥ utils.py (å¹¶å‘: 5)

âœ… æ£€æŸ¥å®Œæˆï¼
   æ€»æ–‡ä»¶æ•°: 156
   å‘ç°é—®é¢˜: 342 (é”™è¯¯: 45, è­¦å‘Š: 267, æç¤º: 30)

ğŸ“„ æŠ¥å‘Šå·²ä¿å­˜åˆ°: codecheck/cuscli_20251010_143022/
   - summary.json
   - summary.md
   - files/ï¼ˆå„æ–‡ä»¶è¯¦ç»†æŠ¥å‘Šï¼‰
```

---

### 3. `/check /resume` - æ¢å¤æ£€æŸ¥

æ¢å¤ä¸­æ–­çš„æ£€æŸ¥ä»»åŠ¡ã€‚

**è¯­æ³•**ï¼š
```bash
/check /resume [<check_id>]
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- æ£€æŸ¥è¿‡ç¨‹ä¸­æŒ‰ `Ctrl+C` ä¸­æ–­
- ç½‘ç»œå¼‚å¸¸å¯¼è‡´ä¸­æ–­
- ç³»ç»Ÿå´©æºƒéœ€è¦æ¢å¤

**ç¤ºä¾‹**ï¼š

```bash
# ä¸æŒ‡å®š check_idï¼Œåˆ—å‡ºå¯æ¢å¤çš„æ£€æŸ¥
/check /resume

# è¾“å‡ºï¼š
# å¯æ¢å¤çš„æ£€æŸ¥:
#
#   ID: cuscli_20251010_143022
#   æ—¶é—´: 2025-10-10 14:30:22
#   è¿›åº¦: 89/156

# æ¢å¤æŒ‡å®šçš„æ£€æŸ¥
/check /resume cuscli_20251010_143022
```

**æ‰§è¡Œæµç¨‹**ï¼š
1. åŠ è½½æ£€æŸ¥çŠ¶æ€ï¼ˆå·²å®Œæˆå’Œå¾…å®Œæˆçš„æ–‡ä»¶åˆ—è¡¨ï¼‰
2. ç»§ç»­æ£€æŸ¥å‰©ä½™æ–‡ä»¶
3. åˆå¹¶ä¹‹å‰çš„ç»“æœ
4. æ›´æ–°æ±‡æ€»æŠ¥å‘Š

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ¢å¤æ£€æŸ¥: cuscli_20251010_143022
å‰©ä½™æ–‡ä»¶: 67/156

æ­£åœ¨æ£€æŸ¥æ–‡ä»¶... (å¹¶å‘: 5)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100% 0:01:23

âœ… æ£€æŸ¥å®Œæˆï¼
   æ€»æ–‡ä»¶æ•°: 156
   å‘ç°é—®é¢˜: 342
```

---

### 4. `/check /report` - æŸ¥çœ‹æŠ¥å‘Š

æŸ¥çœ‹å†å²æ£€æŸ¥æŠ¥å‘Šï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰ã€‚

**è¯­æ³•**ï¼š
```bash
/check /report <check_id>
```

---

### 5. `/check /git` - Git æ£€æŸ¥ï¼ˆæ–°åŠŸèƒ½ï¼‰

æ£€æŸ¥ Git ç›¸å…³çš„æ–‡ä»¶å˜æ›´ï¼ŒåŒ…æ‹¬æš‚å­˜åŒºã€å·¥ä½œåŒºã€å†å² commit å’Œ diffã€‚

**è¯­æ³•**ï¼š
```bash
/check /git <subcommand> [options]
```

**å­å‘½ä»¤**ï¼š

| å­å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `/staged` | æ£€æŸ¥æš‚å­˜åŒºæ–‡ä»¶ï¼ˆå·² add ä½†æœª commitï¼‰ | `/check /git /staged` |
| `/unstaged` | æ£€æŸ¥å·¥ä½œåŒºä¿®æ”¹æ–‡ä»¶ï¼ˆå·²ä¿®æ”¹ä½†æœª addï¼‰ | `/check /git /unstaged` |
| `/commit <hash>` | æ£€æŸ¥æŒ‡å®š commit çš„å˜æ›´æ–‡ä»¶ | `/check /git /commit abc1234` |
| `/diff <commit1> [commit2]` | æ£€æŸ¥ä¸¤ä¸ª commit é—´çš„å·®å¼‚æ–‡ä»¶ | `/check /git /diff main dev` |

**é€šç”¨é€‰é¡¹**ï¼š

| é€‰é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `/repeat` | LLM è°ƒç”¨é‡å¤æ¬¡æ•° | 1 | `/repeat 3` |
| `/consensus` | å…±è¯†é˜ˆå€¼ï¼ˆ0-1ï¼‰ | 1.0 | `/consensus 0.8` |
| `/workers` | å¹¶å‘æ£€æŸ¥æ•° | 5 | `/workers 10` |

**ç¤ºä¾‹**ï¼š

```bash
# æ£€æŸ¥æš‚å­˜åŒºæ–‡ä»¶
/check /git /staged

# æ£€æŸ¥å·¥ä½œåŒºä¿®æ”¹
/check /git /unstaged

# æ£€æŸ¥æŸä¸ª commitï¼ˆæ”¯æŒçŸ­ hashï¼‰
/check /git /commit abc1234

# æ£€æŸ¥ä¸¤ä¸ª commit é—´å·®å¼‚
/check /git /diff main dev

# æ£€æŸ¥æš‚å­˜åŒºï¼Œä½¿ç”¨å¤šæ¬¡ LLM è°ƒç”¨æé«˜å‡†ç¡®æ€§
/check /git /staged /repeat 3 /consensus 0.8

# æ£€æŸ¥ commitï¼Œä½¿ç”¨æ›´å¤šå¹¶å‘
/check /git /commit abc1234 /workers 10
```

**æ‰§è¡Œæµç¨‹**ï¼š
1. ä» Git è·å–ç›¸åº”çš„æ–‡ä»¶åˆ—è¡¨
2. å¯¹äºå†å²æ–‡ä»¶ï¼ˆcommit/diffï¼‰ï¼Œåˆ›å»ºä¸´æ—¶æ–‡ä»¶
3. è°ƒç”¨ä»£ç æ£€æŸ¥å™¨æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶
4. ç”ŸæˆåŒ…å« Git ä¿¡æ¯çš„æ£€æŸ¥æŠ¥å‘Š
5. è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ£€æŸ¥æš‚å­˜åŒºæ–‡ä»¶...
æ‰¾åˆ° 3 ä¸ªæ–‡ä»¶

æ­£åœ¨æ£€æŸ¥æ–‡ä»¶... (å¹¶å‘: 5)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100% 0:00:15

âœ… æ£€æŸ¥å®Œæˆï¼
   æ€»æ–‡ä»¶æ•°: 3
   å‘ç°é—®é¢˜: 8 (é”™è¯¯: 2, è­¦å‘Š: 5, æç¤º: 1)

ğŸ“„ æŠ¥å‘Šå·²ä¿å­˜åˆ°: codecheck/git_staged_20251010_143022/
   - summary.json
   - summary.md
   - files/ï¼ˆå„æ–‡ä»¶è¯¦ç»†æŠ¥å‘Šï¼‰
```

**æŠ¥å‘Šå¢å¼º**ï¼š

Git æ£€æŸ¥ç”Ÿæˆçš„æŠ¥å‘Šä¼šåŒ…å«é¢å¤–çš„ Git ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š

```markdown
# ä»£ç æ£€æŸ¥æŠ¥å‘Š - Git Staged

**æ£€æŸ¥ç±»å‹**: Git æš‚å­˜åŒºæ£€æŸ¥
**åˆ†æ”¯**: main
**å˜æ›´æ–‡ä»¶**: 3 ä¸ª

## æ£€æŸ¥æ¦‚å†µ
...
```

**æ³¨æ„äº‹é¡¹**ï¼š
- å¿…é¡»åœ¨ Git ä»“åº“ä¸­æ‰§è¡Œè¯¥å‘½ä»¤
- äºŒè¿›åˆ¶æ–‡ä»¶å’Œåˆ é™¤çš„æ–‡ä»¶ä¼šè‡ªåŠ¨è·³è¿‡
- å¤§æ–‡ä»¶ï¼ˆ>10MBï¼‰ä¼šè‡ªåŠ¨è·³è¿‡
- commit hash æ”¯æŒå®Œæ•´ hash å’ŒçŸ­ hashï¼ˆæœ€å°‘ 4 ä½ï¼‰
- å†å²æ–‡ä»¶æ£€æŸ¥ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ï¼Œæ£€æŸ¥å®Œæˆåè‡ªåŠ¨æ¸…ç†

**å¸¸è§åœºæ™¯**ï¼š

1. **Pre-commit æ£€æŸ¥**ï¼šæäº¤å‰æ£€æŸ¥æš‚å­˜åŒºæ–‡ä»¶
   ```bash
   /check /git /staged
   ```

2. **ä»£ç å®¡æŸ¥**ï¼šæ£€æŸ¥æŸä¸ª PR çš„ commit
   ```bash
   /check /git /commit abc1234
   ```

3. **å¯¹æ¯”æ£€æŸ¥**ï¼šæ£€æŸ¥ä¸¤ä¸ªåˆ†æ”¯é—´çš„å·®å¼‚
   ```bash
   /check /git /diff main feature-branch
   ```

4. **å¿«é€Ÿä¿®æ”¹æ£€æŸ¥**ï¼šæ£€æŸ¥å·¥ä½œåŒºä¿®æ”¹ï¼ˆæœªæš‚å­˜ï¼‰
   ```bash
   /check /git /unstaged
   ```

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1ï¼šå¿«é€Ÿæ£€æŸ¥å•ä¸ªæ–‡ä»¶

é€‚ç”¨äºä¿®æ”¹å•ä¸ªæ–‡ä»¶åçš„å¿«é€ŸéªŒè¯ã€‚

```bash
# 1. ä¿®æ”¹æ–‡ä»¶
vim src/main.py

# 2. å¯åŠ¨ chat_auto_coder
python -m autocoder.chat_auto_coder

# 3. æ£€æŸ¥æ–‡ä»¶
/check /file src/main.py

# 4. æŸ¥çœ‹æŠ¥å‘Š
cat codecheck/*/files/src_main_py.md
```

---

### åœºæ™¯ 2ï¼šæ£€æŸ¥æ•´ä¸ªé¡¹ç›®

é€‚ç”¨äºé¡¹ç›®è§„èŒƒæ£€æŸ¥ã€ä»£ç å®¡æŸ¥ã€‚

```bash
# 1. å¯åŠ¨ chat_auto_coder
python -m autocoder.chat_auto_coder

# 2. æ£€æŸ¥æ‰€æœ‰ Python æ–‡ä»¶ï¼Œå¿½ç•¥æµ‹è¯•
/check /folder /ext .py /ignore tests,__pycache__

# 3. æŸ¥çœ‹æ±‡æ€»æŠ¥å‘Š
cat codecheck/*/summary.md
```

---

### åœºæ™¯ 3ï¼šå‰ç«¯ä»£ç æ£€æŸ¥

æ£€æŸ¥ React/Vue é¡¹ç›®ã€‚

```bash
# æ£€æŸ¥ JavaScript/TypeScript/Vue æ–‡ä»¶
/check /folder /path frontend/src /ext .js,.jsx,.ts,.tsx,.vue

# å¿½ç•¥ node_modules å’Œ dist
/check /folder /path frontend /ext .js,.jsx,.ts,.tsx /ignore node_modules,dist
```

---

### åœºæ™¯ 4ï¼šå¤§å‹é¡¹ç›®å¹¶å‘æ£€æŸ¥

æé«˜å¤§å‹é¡¹ç›®çš„æ£€æŸ¥é€Ÿåº¦ã€‚

```bash
# ä½¿ç”¨ 10 ä¸ªå¹¶å‘
/check /folder /workers 10

# å¦‚æœé‡åˆ° API é™æµï¼Œé™ä½å¹¶å‘æ•°
/check /folder /workers 3
```

---

### åœºæ™¯ 5ï¼šä¸­æ–­æ¢å¤

å¤„ç†æ£€æŸ¥è¿‡ç¨‹ä¸­çš„æ„å¤–ä¸­æ–­ã€‚

```bash
# 1. å¼€å§‹æ£€æŸ¥
/check /folder

# 2. æ£€æŸ¥è¿‡ç¨‹ä¸­æŒ‰ Ctrl+C ä¸­æ–­
# è¾“å‡ºï¼š
# âš ï¸  æ£€æŸ¥å·²ä¸­æ–­
#    æ£€æŸ¥ ID: cuscli_20251010_143022
#    ä½¿ç”¨ /check /resume cuscli_20251010_143022 ç»§ç»­

# 3. ç¨åæ¢å¤
/check /resume cuscli_20251010_143022
```

---

### åœºæ™¯ 6ï¼šGit æäº¤å‰æ£€æŸ¥

ç¡®ä¿æäº¤çš„ä»£ç ç¬¦åˆè§„èŒƒã€‚

```bash
# 1. ä¿®æ”¹ä»£ç å¹¶æš‚å­˜
git add src/main.py src/utils.py

# 2. å¯åŠ¨ chat_auto_coder
python -m autocoder.chat_auto_coder

# 3. æ£€æŸ¥æš‚å­˜åŒºæ–‡ä»¶
/check /git /staged

# 4. æŸ¥çœ‹æŠ¥å‘Šå¹¶ä¿®å¤é—®é¢˜
cat codecheck/git_staged_*/summary.md

# 5. ä¿®å¤åå†æ¬¡æ£€æŸ¥
/check /git /staged

# 6. ç¡®è®¤æ— é—®é¢˜åæäº¤
git commit -m "fix: update functions"
```

---

### åœºæ™¯ 7ï¼šä»£ç å®¡æŸ¥ PR

æ£€æŸ¥ PR ä¸­çš„commitã€‚

```bash
# 1. è·å– PR çš„ commit hash
git log -1 --format="%H"

# 2. å¯åŠ¨ chat_auto_coder
python -m autocoder.chat_auto_coder

# 3. æ£€æŸ¥è¯¥ commit
/check /git /commit abc1234

# 4. æˆ–æ£€æŸ¥ä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚
/check /git /diff main feature-branch

# 5. æŸ¥çœ‹æŠ¥å‘Š
cat codecheck/git_commit_*/summary.md
```

---

## âš™ï¸ é…ç½®é€‰é¡¹

### è§„åˆ™é…ç½®æ–‡ä»¶

**ä½ç½®**ï¼š`rules/rules_config.json`

**é…ç½®ç¤ºä¾‹**ï¼š
```json
{
  "version": "1.0.0",
  "rule_sets": {
    "backend": {
      "enabled": true,
      "file_patterns": ["**/*.py"],
      "severity_threshold": "warning",
      "disabled_rules": []
    },
    "frontend": {
      "enabled": true,
      "file_patterns": [
        "**/*.js",
        "**/*.jsx",
        "**/*.ts",
        "**/*.tsx",
        "**/*.vue"
      ],
      "severity_threshold": "warning",
      "disabled_rules": []
    }
  },
  "global_settings": {
    "max_workers": 5,
    "chunk_size": 4000,
    "chunk_overlap": 200
  }
}
```

**é…ç½®é¡¹è¯´æ˜**ï¼š

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `enabled` | æ˜¯å¦å¯ç”¨è¯¥è§„åˆ™é›† | `true` |
| `file_patterns` | é€‚ç”¨çš„æ–‡ä»¶æ¨¡å¼ | æ ¹æ®ç±»å‹ |
| `severity_threshold` | æœ€ä½ä¸¥é‡ç¨‹åº¦ | `"warning"` |
| `disabled_rules` | ç¦ç”¨çš„è§„åˆ™ ID | `[]` |
| `max_workers` | æœ€å¤§å¹¶å‘æ•° | `5` |
| `chunk_size` | æ–‡ä»¶åˆ†å—å¤§å°ï¼ˆtokensï¼‰ | `4000` |
| `chunk_overlap` | åˆ†å—é‡å è¡Œæ•° | `200` |

### ç¦ç”¨ç‰¹å®šè§„åˆ™

å¦‚æœæŸäº›è§„åˆ™ä¸é€‚ç”¨ï¼Œå¯ä»¥ç¦ç”¨ï¼š

```json
{
  "rule_sets": {
    "backend": {
      "disabled_rules": ["backend_006", "backend_009"]
    }
  }
}
```

### è°ƒæ•´ä¸¥é‡ç¨‹åº¦é˜ˆå€¼

åªæ£€æŸ¥ç‰¹å®šä¸¥é‡ç¨‹åº¦ä»¥ä¸Šçš„é—®é¢˜ï¼š

```json
{
  "rule_sets": {
    "backend": {
      "severity_threshold": "error"  // åªæ£€æŸ¥é”™è¯¯ï¼Œå¿½ç•¥è­¦å‘Šå’Œæç¤º
    }
  }
}
```

å¯é€‰å€¼ï¼š`"info"` < `"warning"` < `"error"`

---

## ğŸ“Š æ£€æŸ¥æŠ¥å‘Š

### æŠ¥å‘Šç›®å½•ç»“æ„

```
codecheck/
â””â”€â”€ {project}_{timestamp}/
    â”œâ”€â”€ summary.json              # æ€»ä½“æ‘˜è¦ï¼ˆJSONï¼‰
    â”œâ”€â”€ summary.md                # æ€»ä½“æ‘˜è¦ï¼ˆMarkdownï¼‰
    â”œâ”€â”€ files/                    # å„æ–‡ä»¶è¯¦ç»†æŠ¥å‘Š
    â”‚   â”œâ”€â”€ src_main_py.json
    â”‚   â”œâ”€â”€ src_main_py.md
    â”‚   â”œâ”€â”€ src_utils_py.json
    â”‚   â””â”€â”€ src_utils_py.md
    â””â”€â”€ progress.json             # æ£€æŸ¥è¿›åº¦å¿«ç…§
```

### æ±‡æ€»æŠ¥å‘Šï¼ˆsummary.mdï¼‰

```markdown
# ä»£ç æ£€æŸ¥æŠ¥å‘Š

**æ£€æŸ¥ID**: cuscli_20251010_143022
**é¡¹ç›®åç§°**: cuscli
**æ£€æŸ¥æ—¶é—´**: 2025-10-10 14:30:22 ~ 14:35:18 (è€—æ—¶: 4åˆ†56ç§’)

## æ£€æŸ¥æ¦‚å†µ

- âœ… æ€»æ–‡ä»¶æ•°: 156
- âœ… å·²æ£€æŸ¥: 156
- âš ï¸  å‘ç°é—®é¢˜: 342
  - ğŸ”´ é”™è¯¯: 45
  - ğŸŸ¡ è­¦å‘Š: 267
  - ğŸ”µ æç¤º: 30

## é—®é¢˜åˆ†å¸ƒ

### æŒ‰è§„åˆ™åˆ†ç±»

| è§„åˆ™ | æ•°é‡ | ä¸¥é‡ç¨‹åº¦ |
|------|------|----------|
| å¤æ‚çš„ if-else åµŒå¥— | 23 | è­¦å‘Š |
| æ–¹æ³•è¡Œæ•°è¿‡é•¿ | 18 | è­¦å‘Š |
| ç¼ºå°‘å¼‚å¸¸å¤„ç† | 15 | é”™è¯¯ |

### é—®é¢˜æœ€å¤šçš„æ–‡ä»¶

1. `autocoder/auto_coder.py` - 18 ä¸ªé—®é¢˜
2. `autocoder/chat_auto_coder.py` - 15 ä¸ªé—®é¢˜
3. `autocoder/common/llms.py` - 12 ä¸ªé—®é¢˜
```

### æ–‡ä»¶æŠ¥å‘Šï¼ˆfiles/xxx.mdï¼‰

```markdown
# æ–‡ä»¶æ£€æŸ¥æŠ¥å‘Š: src/main.py

**æ£€æŸ¥æ—¶é—´**: 2025-10-10 14:31:05
**é—®é¢˜æ•°é‡**: 5 (é”™è¯¯: 2, è­¦å‘Š: 3)

---

## âŒ é”™è¯¯

### 1. ç©ºæŒ‡é’ˆé£é™© (è¡Œ 125-130)

**è§„åˆ™**: backend_027
**ä¸¥é‡ç¨‹åº¦**: error

**é—®é¢˜æè¿°**:
æ–¹æ³• `process_data` åœ¨ç¬¬ 127 è¡Œç›´æ¥ä½¿ç”¨äº†å¯èƒ½ä¸º None çš„å˜é‡ `data`ï¼Œå­˜åœ¨ç©ºæŒ‡é’ˆé£é™©ã€‚

**ä»£ç ç‰‡æ®µ**:
```python
125 def process_data(data):
126     # æ²¡æœ‰åˆ¤ç©º
127     result = data.strip()  # é£é™©ç‚¹
128     return result
```

**ä¿®å¤å»ºè®®**:
åœ¨ä½¿ç”¨å‰æ·»åŠ åˆ¤ç©ºæ£€æŸ¥ï¼š
```python
def process_data(data):
    if data is None:
        return ""
    result = data.strip()
    return result
```

---

## âš ï¸ è­¦å‘Š

### 2. æ–¹æ³•è¡Œæ•°è¿‡é•¿ (è¡Œ 45-98)

**è§„åˆ™**: backend_009
**ä¸¥é‡ç¨‹åº¦**: warning

**é—®é¢˜æè¿°**:
æ–¹æ³• `calculate_metrics` åŒ…å« 54 è¡Œä»£ç ï¼Œè¶…è¿‡æ¨èçš„ 30 è¡Œé™åˆ¶ã€‚

**ä¿®å¤å»ºè®®**:
å»ºè®®å°†è¯¥æ–¹æ³•æ‹†åˆ†ä¸ºå¤šä¸ªæ›´å°çš„æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•è´Ÿè´£å•ä¸€èŒè´£ã€‚
```

### JSON æŠ¥å‘Šæ ¼å¼

JSON æŠ¥å‘ŠåŒ…å«ç»“æ„åŒ–æ•°æ®ï¼Œæ–¹ä¾¿ç¨‹åºå¤„ç†ï¼š

```json
{
  "file_path": "src/main.py",
  "check_time": "2025-10-10T14:31:05",
  "issues": [
    {
      "rule_id": "backend_027",
      "severity": "error",
      "line_start": 125,
      "line_end": 130,
      "description": "æ–¹æ³• process_data åœ¨ç¬¬ 127 è¡Œç›´æ¥ä½¿ç”¨äº†å¯èƒ½ä¸º None çš„å˜é‡ dataï¼Œå­˜åœ¨ç©ºæŒ‡é’ˆé£é™©ã€‚",
      "suggestion": "åœ¨ä½¿ç”¨å‰æ·»åŠ åˆ¤ç©ºæ£€æŸ¥",
      "code_snippet": "125 def process_data(data):\n126     # æ²¡æœ‰åˆ¤ç©º\n127     result = data.strip()  # é£é™©ç‚¹\n128     return result"
    }
  ],
  "error_count": 2,
  "warning_count": 3,
  "info_count": 0,
  "status": "success"
}
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰è§„åˆ™ï¼Ÿ

**A**: ç¼–è¾‘ `rules/backend_rules.md` æˆ– `rules/frontend_rules.md`ï¼ŒæŒ‰ä»¥ä¸‹æ ¼å¼æ·»åŠ ï¼š

```markdown
### è§„åˆ™ID: backend_xxx
**æ ‡é¢˜**: è§„åˆ™æ ‡é¢˜
**ä¸¥é‡ç¨‹åº¦**: warning
**æè¿°**: è§„åˆ™è¯¦ç»†æè¿°

**é”™è¯¯ç¤ºä¾‹**:
```python
# é”™è¯¯çš„ä»£ç 
```

**æ­£ç¡®ç¤ºä¾‹**:
```python
# æ­£ç¡®çš„ä»£ç 
```
```

### Q2: æ£€æŸ¥é€Ÿåº¦å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ

**A**: æœ‰å‡ ç§ä¼˜åŒ–æ–¹å¼ï¼š

1. **å¢åŠ å¹¶å‘æ•°**ï¼š
   ```bash
   /check /folder /workers 10
   ```

2. **å‡å°‘æ£€æŸ¥æ–‡ä»¶**ï¼š
   ```bash
   /check /folder /ext .py /ignore tests,docs
   ```

3. **ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹**ï¼šé…ç½® API æ—¶é€‰æ‹©å“åº”æ›´å¿«çš„æ¨¡å‹

### Q3: å¦‚ä½•å¤„ç†å¤§æ–‡ä»¶ï¼Ÿ

**A**: ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†å¤§æ–‡ä»¶ï¼š

- æ–‡ä»¶å†…å®¹è¶…è¿‡ 4000 tokens æ—¶è‡ªåŠ¨åˆ†å—
- å—ä¹‹é—´æœ‰ 200 è¡Œé‡å ï¼Œé¿å…è¾¹ç•Œé—®é¢˜
- ç»“æœè‡ªåŠ¨åˆå¹¶ï¼Œå»é™¤é‡å¤é—®é¢˜

å¯ä»¥åœ¨ `rules_config.json` ä¸­è°ƒæ•´ï¼š
```json
{
  "global_settings": {
    "chunk_size": 6000,      // å¢åŠ åˆ° 6000 tokens
    "chunk_overlap": 300     // é‡å å¢åŠ åˆ° 300 è¡Œ
  }
}
```

### Q4: æ£€æŸ¥è¿‡ç¨‹ä¸­é‡åˆ° API é™æµæ€ä¹ˆåŠï¼Ÿ

**A**:

1. **é™ä½å¹¶å‘æ•°**ï¼š
   ```bash
   /check /folder /workers 3
   ```

2. **åˆ†æ‰¹æ£€æŸ¥**ï¼š
   ```bash
   /check /folder /path src/module1
   /check /folder /path src/module2
   ```

3. **ä½¿ç”¨ä¸­æ–­æ¢å¤**ï¼šé‡åˆ°é™æµæ—¶æŒ‰ Ctrl+Cï¼Œç­‰å¾…åä½¿ç”¨ `/check /resume` ç»§ç»­

### Q5: å¦‚ä½•åªæ£€æŸ¥ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Ÿ

**A**: ç»“åˆ git ä½¿ç”¨ï¼š

```bash
# è·å–ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨
git diff --name-only > changed_files.txt

# é€ä¸ªæ£€æŸ¥
/check /file src/main.py
/check /file src/utils.py
```

### Q6: æŠ¥å‘Šå­˜å‚¨åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•æ¸…ç†ï¼Ÿ

**A**:

- **å­˜å‚¨ä½ç½®**ï¼š`codecheck/{project}_{timestamp}/`
- **æ¸…ç†æ—§æŠ¥å‘Š**ï¼š
  ```bash
  # åˆ é™¤ 7 å¤©å‰çš„æŠ¥å‘Š
  find codecheck -type d -mtime +7 -exec rm -rf {} +
  ```

### Q7: å¦‚ä½•åœ¨ CI/CD ä¸­ä½¿ç”¨ï¼Ÿ

**A**: å¯ä»¥åˆ›å»ºè„šæœ¬è°ƒç”¨æ£€æŸ¥åŠŸèƒ½ï¼š

```bash
#!/bin/bash
# ci-check.sh

# å¯åŠ¨æ£€æŸ¥ï¼ˆéœ€è¦é…ç½®è‡ªåŠ¨åŒ–å‚æ•°ï¼‰
python -m autocoder.checker_cli --folder src --ext .py --output ci-report.json

# æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯
if grep -q '"error_count": [1-9]' ci-report.json; then
    echo "å‘ç°ä»£ç è§„èŒƒé”™è¯¯ï¼"
    exit 1
fi
```

### Q8: æ£€æŸ¥ç»“æœä¸å‡†ç¡®æ€ä¹ˆåŠï¼Ÿ

**A**:

1. **ä¼˜åŒ–è§„åˆ™æè¿°**ï¼šåœ¨è§„åˆ™æ–‡ä»¶ä¸­æ·»åŠ æ›´å¤šç¤ºä¾‹
2. **è°ƒæ•´ Prompt**ï¼šä¿®æ”¹ `autocoder/checker/core.py` ä¸­çš„ prompt æ¨¡æ¿
3. **æ›´æ¢æ¨¡å‹**ï¼šä½¿ç”¨ç†è§£èƒ½åŠ›æ›´å¼ºçš„æ¨¡å‹ï¼ˆå¦‚ GPT-4ã€Claudeï¼‰

### Q9: å¦‚ä½•ç¦ç”¨æŸä¸ªè§„åˆ™ï¼Ÿ

**A**: åœ¨ `rules_config.json` ä¸­é…ç½®ï¼š

```json
{
  "rule_sets": {
    "backend": {
      "disabled_rules": ["backend_006", "backend_009"]
    }
  }
}
```

### Q10: æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ

**A**: å½“å‰ç‰ˆæœ¬æ”¯æŒï¼š

- âœ… Pythonï¼ˆ`.py`ï¼‰
- âœ… JavaScriptï¼ˆ`.js`ï¼‰
- âœ… TypeScriptï¼ˆ`.ts`ï¼‰
- âœ… Reactï¼ˆ`.jsx`, `.tsx`ï¼‰
- âœ… Vueï¼ˆ`.vue`ï¼‰

æ·»åŠ æ–°è¯­è¨€æ”¯æŒï¼šåˆ›å»ºè§„åˆ™æ–‡ä»¶å¹¶é…ç½® `rules_config.json`

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **[ä»£ç æ£€æŸ¥è®¾è®¡æ–‡æ¡£](code_checker_design.md)** - äº†è§£æ¶æ„è®¾è®¡
- **[äºŒæ¬¡å¼€å‘æŒ‡å—](code_checker_development.md)** - æ‰©å±•å’Œå®šåˆ¶åŠŸèƒ½
- **[ä»»åŠ¡æ¸…å•](code_checker_tasks.md)** - å¼€å‘ä»»åŠ¡è®°å½•
- **[å·¥ä½œè®°å½•](checker_phase1_work_log.md)** - å„é˜¶æ®µå·¥ä½œè®°å½•

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
- æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ï¼š`docs/`
- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`.auto-coder/logs/auto-coder.log`
- è”ç³»å¼€å‘å›¢é˜Ÿ

---

**æœ€åæ›´æ–°**ï¼š2025-10-10
**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0.0
